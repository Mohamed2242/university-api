2024-09-24 08:33:09.763 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Assistant'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 08:33:09.791 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Doctor'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 08:33:09.792 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Employee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 08:33:09.792 +03:00 [WRN] No store type was specified for the decimal property 'Cgpa' on entity type 'Student'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 08:33:11.169 +03:00 [INF] Executed DbCommand (228ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 08:33:11.237 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 08:33:11.239 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 08:33:11.240 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 08:33:11.241 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 08:33:11.385 +03:00 [INF] User profile is available. Using 'C:\Users\lenovo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 08:33:11.582 +03:00 [INF] Now listening on: http://localhost:5101
2024-09-24 08:33:11.647 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 08:33:11.648 +03:00 [INF] Hosting environment: Development
2024-09-24 08:33:11.648 +03:00 [INF] Content root path: E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI
2024-09-24 08:33:22.359 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.html - null null
2024-09-24 08:33:22.809 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.html - 200 null text/html;charset=utf-8 461.6227ms
2024-09-24 08:33:23.477 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.js - null null
2024-09-24 08:33:23.528 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.js - 200 null application/javascript;charset=utf-8 50.7299ms
2024-09-24 08:33:23.658 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-09-24 08:33:23.663 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.5603ms
2024-09-24 08:33:23.693 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-09-24 08:33:23.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.4839ms
2024-09-24 08:33:24.602 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-09-24 08:33:24.768 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.6148ms
2024-09-24 08:43:45.331 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 08:43:45.338 +03:00 [WRN] Failed to determine the https port for redirect.
2024-09-24 08:43:45.339 +03:00 [INF] CORS policy execution successful.
2024-09-24 08:43:45.341 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 10.2515ms
2024-09-24 08:43:45.344 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 08:43:45.345 +03:00 [INF] CORS policy execution successful.
2024-09-24 08:43:45.518 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 5:43:45 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 08:43:45.537 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 5:43:45 AM'.
2024-09-24 08:43:45.540 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 08:43:45.565 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 08:43:46.228 +03:00 [INF] Executed DbCommand (176ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 08:43:46.493 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 08:43:46.677 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 08:43:46.690 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 08:43:46.694 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 1126.3666ms
2024-09-24 08:43:46.695 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 08:43:46.698 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 1353.9999ms
2024-09-24 08:44:42.694 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 08:44:42.699 +03:00 [INF] CORS policy execution successful.
2024-09-24 08:44:42.699 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 4.8317ms
2024-09-24 08:44:42.699 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 08:44:42.700 +03:00 [INF] CORS policy execution successful.
2024-09-24 08:44:42.701 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 5:44:42 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 08:44:42.701 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 5:44:42 AM'.
2024-09-24 08:44:42.701 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 08:44:42.702 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 08:44:42.874 +03:00 [INF] Executed DbCommand (158ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 08:44:42.964 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 08:44:42.969 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 08:44:42.969 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 08:44:42.970 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 267.9079ms
2024-09-24 08:44:42.970 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 08:44:42.970 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 270.3851ms
2024-09-24 08:46:43.523 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 08:46:43.526 +03:00 [INF] CORS policy execution successful.
2024-09-24 08:46:43.527 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 4.0388ms
2024-09-24 08:46:43.527 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 08:46:43.528 +03:00 [INF] CORS policy execution successful.
2024-09-24 08:46:43.529 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 5:46:43 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 08:46:43.529 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 5:46:43 AM'.
2024-09-24 08:46:43.530 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 08:46:43.530 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 08:46:43.789 +03:00 [INF] Executed DbCommand (249ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 08:46:43.861 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 08:46:43.891 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 08:46:43.892 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 08:46:43.892 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 362.3762ms
2024-09-24 08:46:43.892 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 08:46:43.892 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 364.9059ms
2024-09-24 08:47:16.079 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 08:47:16.082 +03:00 [INF] CORS policy execution successful.
2024-09-24 08:47:16.082 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 3.0175ms
2024-09-24 08:47:16.083 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 08:47:16.083 +03:00 [INF] CORS policy execution successful.
2024-09-24 08:47:16.084 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 5:47:16 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 08:47:16.084 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 5:47:16 AM'.
2024-09-24 08:47:16.084 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 08:47:16.084 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 08:47:16.212 +03:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 08:47:16.283 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 08:47:16.286 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 08:47:16.287 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 08:47:16.287 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 202.6095ms
2024-09-24 08:47:16.287 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 08:47:16.287 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 204.0714ms
2024-09-24 10:10:47.958 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:10:47.963 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:10:47.965 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 8.9028ms
2024-09-24 10:10:47.967 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:10:47.996 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:10:48.021 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 7:10:48 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 10:10:48.023 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/23/2024 1:47:39 PM', Current time (UTC): '9/24/2024 7:10:48 AM'.
2024-09-24 10:10:48.024 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:10:48.025 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:10:48.160 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:10:48.245 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:10:48.338 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:10:48.338 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:10:48.339 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 312.7715ms
2024-09-24 10:10:48.339 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:10:48.339 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 371.9392ms
2024-09-24 10:11:27.887 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:11:27.889 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:11:27.890 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 2.7697ms
2024-09-24 10:11:27.890 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 53
2024-09-24 10:11:27.890 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:11:27.892 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:11:27.892 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:11:27.900 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-09-24 10:11:27.931 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 38.2999ms
2024-09-24 10:11:27.931 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:11:27.931 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 400 null application/problem+json; charset=utf-8 40.5177ms
2024-09-24 10:18:06.850 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:18:06.850 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:18:06.850 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 27.7949ms
2024-09-24 10:18:06.851 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:18:06.851 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:18:06.851 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:18:06.851 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:18:07.039 +03:00 [INF] Executed DbCommand (171ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:18:07.108 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:18:07.242 +03:00 [INF] Executed DbCommand (134ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:18:07.242 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:18:07.242 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 391.2971ms
2024-09-24 10:18:07.242 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:18:07.243 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 391.9344ms
2024-09-24 10:19:25.703 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:19:25.703 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:19:25.704 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.8934ms
2024-09-24 10:19:25.704 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:19:25.705 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:19:25.705 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:19:25.705 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:19:25.842 +03:00 [INF] Executed DbCommand (136ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:19:25.920 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:19:25.964 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:19:25.964 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:19:25.964 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 259.6537ms
2024-09-24 10:19:25.964 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:19:25.965 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 260.2846ms
2024-09-24 10:20:21.564 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:20:21.565 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:20:21.566 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 1.9429ms
2024-09-24 10:20:21.567 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:20:21.567 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:20:21.567 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:20:21.567 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:20:21.699 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:20:21.768 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:20:21.771 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:20:21.771 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:20:21.771 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 203.7465ms
2024-09-24 10:20:21.771 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:20:21.771 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 204.1669ms
2024-09-24 10:21:33.807 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:21:33.813 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:21:33.814 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 7.092ms
2024-09-24 10:21:33.816 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:21:33.846 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:21:33.846 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:21:33.846 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:21:34.021 +03:00 [INF] Executed DbCommand (174ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:21:34.109 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:21:34.179 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:21:34.179 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:21:34.179 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 333.3876ms
2024-09-24 10:21:34.179 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:21:34.179 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 364.8465ms
2024-09-24 10:25:01.372 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:25:01.409 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:25:01.409 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 36.898ms
2024-09-24 10:25:01.411 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:25:01.412 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:25:01.412 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:25:01.412 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:25:01.542 +03:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:25:01.611 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:25:01.695 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:25:01.695 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:25:01.695 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 282.8176ms
2024-09-24 10:25:01.695 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:25:01.695 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 284.1691ms
2024-09-24 10:29:34.414 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:29:34.416 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:29:34.417 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 2.859ms
2024-09-24 10:29:34.418 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:29:34.418 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:29:34.418 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:29:34.418 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:29:34.708 +03:00 [INF] Executed DbCommand (281ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:29:34.798 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:29:34.858 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:29:34.859 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:29:34.859 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 441.0562ms
2024-09-24 10:29:34.859 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:29:34.859 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 441.5566ms
2024-09-24 10:33:44.091 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:33:44.092 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:33:44.094 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 2.9701ms
2024-09-24 10:33:44.097 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:33:44.098 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:33:44.133 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:33:44.133 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:33:44.168 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:33:44.241 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:33:44.304 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:33:44.304 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:33:44.304 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 171.1351ms
2024-09-24 10:33:44.304 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:33:44.305 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 207.3431ms
2024-09-24 10:48:24.409 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:48:24.409 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:48:24.409 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.3369ms
2024-09-24 10:48:24.410 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:48:24.410 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:48:24.410 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:48:24.410 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:48:24.661 +03:00 [INF] Executed DbCommand (188ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:48:24.729 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:48:24.767 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:48:24.768 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:48:24.768 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 357.579ms
2024-09-24 10:48:24.768 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:48:24.768 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 358.0571ms
2024-09-24 10:53:10.786 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:53:10.788 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:53:10.789 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 3.1462ms
2024-09-24 10:53:10.790 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:53:10.790 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:53:10.790 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:53:10.790 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:53:10.906 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:53:10.976 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:53:11.112 +03:00 [INF] Executed DbCommand (135ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:53:11.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:53:11.113 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 322.6597ms
2024-09-24 10:53:11.113 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:53:11.113 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 323.1457ms
2024-09-24 10:56:55.620 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:56:55.621 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:56:55.621 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.8041ms
2024-09-24 10:56:55.624 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:56:55.624 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:56:55.624 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:56:55.624 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:56:55.783 +03:00 [INF] Executed DbCommand (157ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:56:55.866 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:56:55.883 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:56:55.883 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:56:55.884 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 259.083ms
2024-09-24 10:56:55.884 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:56:55.884 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 259.8956ms
2024-09-24 10:59:37.919 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 10:59:37.920 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:59:37.921 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 2.213ms
2024-09-24 10:59:37.922 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 10:59:37.924 +03:00 [INF] CORS policy execution successful.
2024-09-24 10:59:37.924 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:59:37.924 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 10:59:38.116 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 10:59:38.188 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 10:59:38.226 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 10:59:38.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 10:59:38.226 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 301.6378ms
2024-09-24 10:59:38.226 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 10:59:38.226 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 304.1222ms
2024-09-24 11:04:04.230 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:04:04.232 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:04:04.232 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 2.2408ms
2024-09-24 11:04:04.235 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:04:04.235 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:04:04.236 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:04:04.236 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:04:04.459 +03:00 [INF] Executed DbCommand (208ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:04:04.532 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:04:04.580 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:04:04.580 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:04:04.580 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 344.3437ms
2024-09-24 11:04:04.580 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:04:04.580 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 347.3158ms
2024-09-24 11:05:19.601 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:05:19.601 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:05:19.601 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.2764ms
2024-09-24 11:05:19.603 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:05:19.626 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:05:19.626 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:05:19.626 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:05:19.676 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:05:19.747 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:05:19.793 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:05:19.793 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:05:19.793 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 166.9994ms
2024-09-24 11:05:19.793 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:05:19.793 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 190.3723ms
2024-09-24 11:07:06.077 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:07:06.113 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:07:06.114 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 36.7755ms
2024-09-24 11:07:06.115 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:07:06.117 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:07:06.117 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:07:06.117 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:07:06.123 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:07:06.193 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:07:06.296 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:07:06.297 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:07:06.297 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 180.0117ms
2024-09-24 11:07:06.297 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:07:06.297 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 182.5054ms
2024-09-24 11:07:12.688 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:07:12.689 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:07:12.689 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.1618ms
2024-09-24 11:07:12.689 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:07:12.689 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:07:12.689 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:07:12.690 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:07:12.695 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:07:12.762 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:07:12.765 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:07:12.766 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:07:12.766 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 76.06ms
2024-09-24 11:07:12.766 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:07:12.766 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 76.7249ms
2024-09-24 11:07:59.655 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:07:59.655 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:07:59.655 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.2637ms
2024-09-24 11:07:59.656 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:07:59.656 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:07:59.656 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:07:59.656 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:07:59.659 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:07:59.744 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:07:59.776 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:07:59.777 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:07:59.777 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 120.488ms
2024-09-24 11:07:59.777 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:07:59.777 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 121.145ms
2024-09-24 11:13:49.611 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:13:49.611 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:13:49.611 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.8425ms
2024-09-24 11:13:49.612 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:13:49.612 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:13:49.612 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:13:49.612 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:13:49.817 +03:00 [INF] Executed DbCommand (204ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:13:49.887 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:13:50.018 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:13:50.018 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:13:50.018 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 405.9655ms
2024-09-24 11:13:50.018 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:13:50.018 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 406.5067ms
2024-09-24 11:18:34.688 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:18:34.690 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:18:34.691 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 2.9007ms
2024-09-24 11:18:34.693 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:18:34.695 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:18:34.695 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:18:34.695 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:18:34.758 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:18:34.826 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:18:34.838 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:18:34.838 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:18:34.838 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 142.8502ms
2024-09-24 11:18:34.838 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:18:34.838 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 146.5287ms
2024-09-24 11:28:24.143 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:28:24.144 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:28:24.144 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.7311ms
2024-09-24 11:28:24.145 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:28:24.145 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:28:24.145 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:28:24.145 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:28:24.320 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:28:24.390 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:28:24.445 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:28:24.445 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:28:24.445 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 300.2293ms
2024-09-24 11:28:24.445 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:28:24.445 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 300.7001ms
2024-09-24 11:45:12.397 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:45:12.397 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:45:12.397 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.6823ms
2024-09-24 11:45:12.398 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:45:12.398 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:45:12.398 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:45:12.398 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:45:12.556 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:45:12.650 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:45:12.915 +03:00 [INF] Executed DbCommand (265ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:45:12.946 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:45:12.952 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 553.526ms
2024-09-24 11:45:12.952 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:45:12.952 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 554.0588ms
2024-09-24 11:49:02.102 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:49:02.104 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:49:02.104 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 2.0257ms
2024-09-24 11:49:02.107 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:49:02.107 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:49:02.108 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:49:02.108 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:49:02.149 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:49:02.218 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:49:02.269 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:49:02.269 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:49:02.269 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 161.3909ms
2024-09-24 11:49:02.269 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:49:02.269 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 162.6706ms
2024-09-24 11:51:36.550 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.html - null null
2024-09-24 11:51:36.576 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.html - 200 null text/html;charset=utf-8 26.175ms
2024-09-24 11:51:36.667 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.js - null null
2024-09-24 11:51:36.667 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.js - 200 null application/javascript;charset=utf-8 0.4458ms
2024-09-24 11:51:36.681 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-09-24 11:51:36.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 0.515ms
2024-09-24 11:51:36.684 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-09-24 11:51:36.697 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.0629ms
2024-09-24 11:51:36.944 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-09-24 11:51:36.962 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.3778ms
2024-09-24 11:53:07.659 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.html - null null
2024-09-24 11:53:07.662 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.html - 200 null text/html;charset=utf-8 2.7824ms
2024-09-24 11:53:07.723 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.js - null null
2024-09-24 11:53:07.726 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.js - 200 null application/javascript;charset=utf-8 2.7444ms
2024-09-24 11:53:07.728 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-09-24 11:53:07.728 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 0.1392ms
2024-09-24 11:53:07.728 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-09-24 11:53:07.731 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2.8127ms
2024-09-24 11:53:07.881 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-09-24 11:53:07.895 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.5307ms
2024-09-24 11:53:55.103 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:53:55.103 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:53:55.129 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 26.34ms
2024-09-24 11:53:55.130 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 107
2024-09-24 11:53:55.131 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:53:55.132 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:53:55.136 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:53:55.312 +03:00 [INF] Executed DbCommand (174ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:53:55.395 +03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 11:53:55.396 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 260.538ms
2024-09-24 11:53:55.397 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:53:55.397 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 400 null application/json; charset=utf-8 266.4684ms
2024-09-24 11:54:00.037 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:54:00.038 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:54:00.038 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:54:00.038 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:54:00.040 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:54:00.113 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:54:00.217 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:54:00.217 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:54:00.218 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 179.8618ms
2024-09-24 11:54:00.218 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:54:00.218 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 180.307ms
2024-09-24 11:58:43.875 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 11:58:43.875 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:58:43.876 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.6758ms
2024-09-24 11:58:43.878 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 11:58:43.878 +03:00 [INF] CORS policy execution successful.
2024-09-24 11:58:43.878 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:58:43.878 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 11:58:44.069 +03:00 [INF] Executed DbCommand (160ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 11:58:44.137 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 11:58:44.186 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 11:58:44.187 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 11:58:44.187 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 308.3765ms
2024-09-24 11:58:44.187 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 11:58:44.187 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 309.7139ms
2024-09-24 12:00:54.331 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 12:00:54.331 +03:00 [INF] CORS policy execution successful.
2024-09-24 12:00:54.331 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.1868ms
2024-09-24 12:00:54.333 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 12:00:54.334 +03:00 [INF] CORS policy execution successful.
2024-09-24 12:00:54.334 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 12:00:54.334 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 12:00:54.458 +03:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 12:00:54.531 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 12:00:54.564 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 12:00:54.564 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 12:00:54.564 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 229.994ms
2024-09-24 12:00:54.564 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 12:00:54.564 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 230.8866ms
2024-09-24 12:01:33.077 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 12:01:33.077 +03:00 [INF] CORS policy execution successful.
2024-09-24 12:01:33.077 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.2592ms
2024-09-24 12:01:33.077 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 12:01:33.078 +03:00 [INF] CORS policy execution successful.
2024-09-24 12:01:33.106 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 12:01:33.107 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 12:01:33.283 +03:00 [INF] Executed DbCommand (174ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 12:01:33.353 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 12:01:33.401 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 12:01:33.401 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 12:01:33.401 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 294.2966ms
2024-09-24 12:01:33.401 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 12:01:33.401 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 323.6946ms
2024-09-24 12:03:46.529 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 12:03:46.529 +03:00 [INF] CORS policy execution successful.
2024-09-24 12:03:46.529 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 0.2105ms
2024-09-24 12:03:46.531 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 12:03:46.531 +03:00 [INF] CORS policy execution successful.
2024-09-24 12:03:46.532 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 12:03:46.532 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 12:03:46.667 +03:00 [INF] Executed DbCommand (134ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 12:03:46.739 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 12:03:46.802 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 12:03:46.803 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 12:03:46.803 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 271.1403ms
2024-09-24 12:03:46.803 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 12:03:46.803 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 272.6855ms
2024-09-24 14:02:30.838 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Assistant'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 14:02:30.890 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Doctor'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 14:02:30.891 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Employee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 14:02:30.891 +03:00 [WRN] No store type was specified for the decimal property 'Cgpa' on entity type 'Student'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 14:02:32.057 +03:00 [INF] Executed DbCommand (191ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:02:32.118 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:02:32.120 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:02:32.121 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:02:32.122 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:02:32.264 +03:00 [INF] User profile is available. Using 'C:\Users\lenovo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:02:32.423 +03:00 [INF] Now listening on: http://localhost:5101
2024-09-24 14:02:32.464 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:02:32.464 +03:00 [INF] Hosting environment: Development
2024-09-24 14:02:32.465 +03:00 [INF] Content root path: E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI
2024-09-24 14:02:41.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.html - null null
2024-09-24 14:02:41.426 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.html - 200 null text/html;charset=utf-8 276.6372ms
2024-09-24 14:02:41.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-09-24 14:02:41.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.js - null null
2024-09-24 14:02:41.497 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.js - 200 null application/javascript;charset=utf-8 3.9579ms
2024-09-24 14:02:41.500 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.8359ms
2024-09-24 14:02:41.563 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-09-24 14:05:04.664 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Assistant'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 14:05:04.689 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Doctor'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 14:05:04.689 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Employee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 14:05:04.690 +03:00 [WRN] No store type was specified for the decimal property 'Cgpa' on entity type 'Student'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 14:05:05.510 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:05:05.565 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:05:05.566 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:05:05.567 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:05:05.568 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 14:05:05.673 +03:00 [INF] User profile is available. Using 'C:\Users\lenovo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:05:05.787 +03:00 [INF] Now listening on: http://localhost:5101
2024-09-24 14:05:05.824 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:05:05.824 +03:00 [INF] Hosting environment: Development
2024-09-24 14:05:05.824 +03:00 [INF] Content root path: E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI
2024-09-24 14:05:10.072 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.html - null null
2024-09-24 14:05:10.486 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.html - 200 null text/html;charset=utf-8 422.6525ms
2024-09-24 14:05:10.552 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.js - null null
2024-09-24 14:05:10.552 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-09-24 14:05:10.556 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.js - 200 null application/javascript;charset=utf-8 4.3018ms
2024-09-24 14:05:10.556 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.4957ms
2024-09-24 14:05:10.605 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-09-24 14:05:10.658 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.1246ms
2024-09-24 14:05:10.992 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-09-24 14:05:11.208 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 216.5596ms
2024-09-24 14:59:35.430 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.html - null null
2024-09-24 14:59:35.441 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.html - 200 null text/html;charset=utf-8 11.1018ms
2024-09-24 14:59:35.534 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.js - null null
2024-09-24 14:59:35.535 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.js - 200 null application/javascript;charset=utf-8 0.6734ms
2024-09-24 14:59:35.542 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-09-24 14:59:35.542 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-09-24 14:59:35.543 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 1.2865ms
2024-09-24 14:59:35.556 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.7999ms
2024-09-24 14:59:35.893 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-09-24 14:59:35.917 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.6267ms
2024-09-24 15:00:56.888 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/get/allStudents/null - null null
2024-09-24 15:00:56.893 +03:00 [WRN] Failed to determine the https port for redirect.
2024-09-24 15:00:56.894 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:00:56.896 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/get/allStudents/null - 204 null null 7.4115ms
2024-09-24 15:00:56.900 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/get/allStudents/null - null null
2024-09-24 15:00:56.901 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:00:57.147 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:00:57 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 15:00:57.160 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:00:57 PM'.
2024-09-24 15:00:57.161 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/get/allStudents/null - 404 0 null 262.2808ms
2024-09-24 15:00:57.163 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/get/allStudents/null, Response status code: 404
2024-09-24 15:00:57.163 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/get/allStudents/null - null null
2024-09-24 15:00:57.164 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:00:57.165 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:00:57 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 15:00:57.165 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:00:57 PM'.
2024-09-24 15:00:57.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/get/allStudents/null - 404 0 null 2.5724ms
2024-09-24 15:00:57.165 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/get/allStudents/null, Response status code: 404
2024-09-24 15:01:09.805 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/get/allEmployees/null - null null
2024-09-24 15:01:09.805 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:09.806 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/get/allEmployees/null - 204 null null 0.6737ms
2024-09-24 15:01:09.806 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/get/allEmployees/null - null null
2024-09-24 15:01:09.806 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:09.808 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:01:09 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 15:01:09.809 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:01:09 PM'.
2024-09-24 15:01:09.809 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/get/allEmployees/null - 404 0 null 2.5045ms
2024-09-24 15:01:09.809 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/get/allEmployees/null, Response status code: 404
2024-09-24 15:01:09.812 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/get/allEmployees/null - null null
2024-09-24 15:01:09.812 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:09.812 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:01:09 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 15:01:09.812 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:01:09 PM'.
2024-09-24 15:01:09.813 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/get/allEmployees/null - 404 0 null 1.0261ms
2024-09-24 15:01:09.813 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/get/allEmployees/null, Response status code: 404
2024-09-24 15:01:14.381 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/get/allAdmins/null - null null
2024-09-24 15:01:14.381 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:14.381 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/get/allAdmins/null - 204 null null 0.329ms
2024-09-24 15:01:14.382 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - null null
2024-09-24 15:01:14.382 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:14.383 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:01:14 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 15:01:14.383 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:01:14 PM'.
2024-09-24 15:01:14.383 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - 404 0 null 1.4316ms
2024-09-24 15:01:14.383 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/get/allAdmins/null, Response status code: 404
2024-09-24 15:01:14.387 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - null null
2024-09-24 15:01:14.387 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:14.388 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:01:14 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-24 15:01:14.388 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2024 10:03:46 AM', Current time (UTC): '9/24/2024 12:01:14 PM'.
2024-09-24 15:01:14.388 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - 404 0 null 1.1016ms
2024-09-24 15:01:14.388 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/get/allAdmins/null, Response status code: 404
2024-09-24 15:01:46.875 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - null null
2024-09-24 15:01:46.882 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:46.882 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Home/login - 204 null null 7.3797ms
2024-09-24 15:01:46.883 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/Home/login - application/json 105
2024-09-24 15:01:46.884 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:46.885 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 15:01:46.915 +03:00 [INF] Route matched with {action = "Login", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UniversityAPI.Application.DTOs.LoginDTO) on controller UniversityAPI.Controllers.HomeController (UniversityAPI).
2024-09-24 15:01:47.677 +03:00 [INF] Executed DbCommand (291ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Salary], [d].[Salary], [e].[Position], [e].[Salary], [s].[Cgpa], [s].[CurrentSemester], [s].[Department], [s].[SeatNumber], [s].[TotalCreditHours], CASE
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
    WHEN [e].[Id] IS NOT NULL THEN N'Employee'
    WHEN [d].[Id] IS NOT NULL THEN N'Doctor'
    WHEN [a0].[Id] IS NOT NULL THEN N'Assistant'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-24 15:01:47.862 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        LEFT JOIN [Assistants] AS [a0] ON [a].[Id] = [a0].[Id]
        LEFT JOIN [Doctors] AS [d] ON [a].[Id] = [d].[Id]
        LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
        LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
        WHERE [a].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-09-24 15:01:48.011 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@p3='?' (Size = 450), @p4='?' (Size = 4000), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3 AND [ConcurrencyStamp] = @p4;
2024-09-24 15:01:48.025 +03:00 [INF] Executing OkObjectResult, writing value of type 'UniversityAPI.Application.DTOs.TokenApiDTO'.
2024-09-24 15:01:48.030 +03:00 [INF] Executed action UniversityAPI.Controllers.HomeController.Login (UniversityAPI) in 1112.3983ms
2024-09-24 15:01:48.031 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.HomeController.Login (UniversityAPI)'
2024-09-24 15:01:48.034 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/Home/login - 200 null application/json; charset=utf-8 1151.139ms
2024-09-24 15:01:50.055 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/get/allAdmins/null - null null
2024-09-24 15:01:50.055 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:50.056 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/get/allAdmins/null - 204 null null 0.2906ms
2024-09-24 15:01:50.056 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - null null
2024-09-24 15:01:50.057 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:50.065 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - 404 0 null 8.9869ms
2024-09-24 15:01:50.065 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/get/allAdmins/null, Response status code: 404
2024-09-24 15:01:50.066 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - null null
2024-09-24 15:01:50.066 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:01:50.067 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - 404 0 null 0.6628ms
2024-09-24 15:01:50.067 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/get/allAdmins/null, Response status code: 404
2024-09-24 15:03:03.438 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allEmployees/h - null null
2024-09-24 15:03:03.477 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-24 15:03:03.480 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 15:03:03.480 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allEmployees/h - 401 0 null 74.9753ms
2024-09-24 15:09:19.684 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Assistant'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 15:09:19.708 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Doctor'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 15:09:19.709 +03:00 [WRN] No store type was specified for the decimal property 'Salary' on entity type 'Employee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 15:09:19.709 +03:00 [WRN] No store type was specified for the decimal property 'Cgpa' on entity type 'Student'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-24 15:09:21.458 +03:00 [INF] Executed DbCommand (373ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 15:09:21.528 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 15:09:21.532 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 15:09:21.533 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 15:09:21.534 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-24 15:09:21.658 +03:00 [INF] User profile is available. Using 'C:\Users\lenovo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:09:21.783 +03:00 [INF] Now listening on: http://localhost:5101
2024-09-24 15:09:21.824 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:09:21.825 +03:00 [INF] Hosting environment: Development
2024-09-24 15:09:21.825 +03:00 [INF] Content root path: E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI
2024-09-24 15:09:26.354 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.html - null null
2024-09-24 15:09:26.818 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.html - 200 null text/html;charset=utf-8 472.9193ms
2024-09-24 15:09:26.873 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-09-24 15:09:26.873 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/index.js - null null
2024-09-24 15:09:26.876 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 3.2616ms
2024-09-24 15:09:26.877 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/index.js - 200 null application/javascript;charset=utf-8 3.7085ms
2024-09-24 15:09:26.941 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-09-24 15:09:27.045 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.3915ms
2024-09-24 15:09:27.445 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-09-24 15:09:27.664 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 218.1886ms
2024-09-24 15:10:23.782 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/j - null null
2024-09-24 15:10:23.804 +03:00 [WRN] Failed to determine the https port for redirect.
2024-09-24 15:10:23.938 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-24 15:10:23.942 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 15:10:23.942 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/j - 401 0 null 160.0507ms
2024-09-24 15:16:42.781 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/get/allAdmins/null - null null
2024-09-24 15:16:42.788 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:16:42.789 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/get/allAdmins/null - 204 null null 8.8826ms
2024-09-24 15:16:42.790 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - null null
2024-09-24 15:16:42.791 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:16:43.373 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/get/allAdmins/null - 404 0 null 582.345ms
2024-09-24 15:16:43.375 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/get/allAdmins/null, Response status code: 404
2024-09-24 15:19:23.771 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:19:23.776 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:19:23.777 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 6.1699ms
2024-09-24 15:19:23.778 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:19:23.778 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:19:23.782 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:19:23.818 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:19:23.938 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:19:24.986 +03:00 [INF] Executed DbCommand (781ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:19:24.987 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:19:24.992 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:19:24.999 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 1178.681ms
2024-09-24 15:19:25.000 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:19:25.004 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 1226.4852ms
2024-09-24 15:19:38.892 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:19:38.892 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:19:38.893 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 0.4232ms
2024-09-24 15:19:38.894 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:19:38.894 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:19:38.895 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:19:38.895 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:19:38.903 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:19:38.916 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:19:38.916 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:19:38.917 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:19:38.917 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 21.1682ms
2024-09-24 15:19:38.917 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:19:38.917 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 23.4644ms
2024-09-24 15:19:38.917 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:19:38.918 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:19:38.918 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:19:38.918 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:19:38.924 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:19:38.925 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:19:38.926 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:19:38.926 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:19:38.926 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 8.0688ms
2024-09-24 15:19:38.926 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:19:38.926 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 8.7697ms
2024-09-24 15:20:40.943 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:20:40.944 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:20:40.946 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:20:40.946 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:20:40.946 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 3.2219ms
2024-09-24 15:20:40.946 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 2.6679ms
2024-09-24 15:20:40.949 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:20:40.950 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:20:40.951 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:20:40.951 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:20:40.951 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:20:41.082 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:20:41.082 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:20:41.082 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:20:41.082 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 131.7811ms
2024-09-24 15:20:41.082 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:20:41.083 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 133.1747ms
2024-09-24 15:20:41.083 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:20:41.083 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:20:41.084 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:20:41.084 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:20:41.084 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:20:41.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:20:41.086 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:20:41.086 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:20:41.086 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 2.6451ms
2024-09-24 15:20:41.086 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:20:41.087 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 3.3617ms
2024-09-24 15:21:27.767 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:21:27.768 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:21:27.770 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 2.2648ms
2024-09-24 15:21:27.771 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:21:27.771 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:21:27.771 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:21:27.771 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:21:27.772 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:21:27.828 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:21:27.828 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:21:27.828 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:21:27.828 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 56.4749ms
2024-09-24 15:21:27.828 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:21:27.828 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 57.1964ms
2024-09-24 15:22:17.772 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:17.773 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:17.773 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 2.8129ms
2024-09-24 15:22:17.776 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:17.807 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:17.808 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:17.808 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:22:17.809 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:22:17.905 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:22:17.905 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:22:17.905 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:22:17.905 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 96.9386ms
2024-09-24 15:22:17.905 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:17.905 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 130.8292ms
2024-09-24 15:22:30.130 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:30.131 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:30.132 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:30.157 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 3.1065ms
2024-09-24 15:22:30.157 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:30.157 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 25.0021ms
2024-09-24 15:22:30.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:30.159 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:30.160 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:30.160 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:22:30.161 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:22:30.165 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:22:30.165 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:22:30.165 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:22:30.165 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 4.5791ms
2024-09-24 15:22:30.165 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:30.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 7.8764ms
2024-09-24 15:22:30.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:30.166 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:30.166 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:30.166 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:22:30.166 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:22:30.168 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:22:30.168 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:22:30.168 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:22:30.168 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 2.393ms
2024-09-24 15:22:30.168 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:30.169 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 3.0581ms
2024-09-24 15:22:48.770 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:48.770 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:48.771 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 0.5414ms
2024-09-24 15:22:48.772 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:48.773 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:48.773 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:48.773 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:22:48.774 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:22:48.955 +03:00 [INF] Executed DbCommand (180ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:22:48.955 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:22:48.955 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:22:48.955 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 181.9542ms
2024-09-24 15:22:48.955 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:48.956 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 183.3693ms
2024-09-24 15:22:55.568 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:55.568 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:55.568 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 0.2958ms
2024-09-24 15:22:55.569 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:55.569 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:55.570 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:55.570 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:22:55.570 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:22:55.760 +03:00 [INF] Executed DbCommand (189ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:22:55.760 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:22:55.761 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:22:55.761 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 190.9629ms
2024-09-24 15:22:55.761 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:55.761 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 192.0331ms
2024-09-24 15:22:55.761 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:22:55.762 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:22:55.762 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:55.762 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:22:55.762 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:22:55.764 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:22:55.765 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:22:55.766 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:22:55.767 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 5.0175ms
2024-09-24 15:22:55.767 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:22:55.767 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 5.6051ms
2024-09-24 15:23:34.773 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:23:34.773 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:23:34.773 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 0.4356ms
2024-09-24 15:23:34.776 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:23:34.798 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:23:34.799 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:23:34.799 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:23:34.799 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:23:34.885 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:23:34.885 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:23:34.885 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:23:34.885 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 86.744ms
2024-09-24 15:23:34.885 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:23:34.886 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 111.4439ms
2024-09-24 15:23:40.695 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:23:40.695 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:23:40.695 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/null - 204 null null 0.4589ms
2024-09-24 15:23:40.696 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:23:40.696 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:23:40.697 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:23:40.697 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:23:40.697 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:23:40.707 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:23:40.708 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:23:40.708 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:23:40.708 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 10.8736ms
2024-09-24 15:23:40.708 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:23:40.708 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 11.8556ms
2024-09-24 15:23:40.709 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - null null
2024-09-24 15:23:40.709 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:23:40.709 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:23:40.709 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:23:40.709 +03:00 [INF] Fetching admins for faculty ID: null
2024-09-24 15:23:40.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:23:40.715 +03:00 [WRN] No admins found for faculty ID: null
2024-09-24 15:23:40.715 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:23:40.715 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 6.0654ms
2024-09-24 15:23:40.715 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:23:40.715 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/null - 404 null application/json; charset=utf-8 6.7805ms
2024-09-24 15:29:52.349 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:29:52.349 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:29:52.350 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 204 null null 2.0396ms
2024-09-24 15:29:52.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:29:52.351 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:29:52.352 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:29:52.352 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:29:52.353 +03:00 [INF] Fetching admins for faculty ID: Faculty of Computer Science
2024-09-24 15:29:52.477 +03:00 [INF] Executed DbCommand (124ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:29:52.719 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 366.89ms
2024-09-24 15:29:52.719 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:29:52.720 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[UniversityAPI.Core.Models.Employee, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[UniversityAPI.Application.DTOs.EmployeeDTO, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EmployeeProxy -> EmployeeDTO
Castle.Proxies.EmployeeProxy -> UniversityAPI.Application.DTOs.EmployeeDTO
   at lambda_method228(Closure, Employee, EmployeeDTO, ResolutionContext)
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   at UniversityAPI.Controllers.EmployeeController.GetAllAdmins(String faculty) in E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI\Controllers\EmployeeController.cs:line 396
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-24 15:29:52.755 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 500 null text/plain; charset=utf-8 404.1553ms
2024-09-24 15:29:52.755 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:29:52.758 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:29:52.758 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:29:52.758 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:29:52.759 +03:00 [INF] Fetching admins for faculty ID: Faculty of Computer Science
2024-09-24 15:29:52.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:29:52.780 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 21.8977ms
2024-09-24 15:29:52.781 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:29:52.781 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[UniversityAPI.Core.Models.Employee, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[UniversityAPI.Application.DTOs.EmployeeDTO, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EmployeeProxy -> EmployeeDTO
Castle.Proxies.EmployeeProxy -> UniversityAPI.Application.DTOs.EmployeeDTO
   at lambda_method228(Closure, Employee, EmployeeDTO, ResolutionContext)
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   at UniversityAPI.Controllers.EmployeeController.GetAllAdmins(String faculty) in E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI\Controllers\EmployeeController.cs:line 396
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-24 15:29:52.783 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 500 null text/plain; charset=utf-8 27.4054ms
2024-09-24 15:30:25.764 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:30:25.764 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:30:25.764 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 204 null null 0.3452ms
2024-09-24 15:30:25.764 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:30:25.765 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:30:25.765 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:30:25.765 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:30:25.765 +03:00 [INF] Fetching admins for faculty ID: Faculty of Computer Science
2024-09-24 15:30:25.769 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:30:25.788 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 22.6089ms
2024-09-24 15:30:25.788 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:30:25.788 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[UniversityAPI.Core.Models.Employee, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[UniversityAPI.Application.DTOs.EmployeeDTO, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EmployeeProxy -> EmployeeDTO
Castle.Proxies.EmployeeProxy -> UniversityAPI.Application.DTOs.EmployeeDTO
   at lambda_method228(Closure, Employee, EmployeeDTO, ResolutionContext)
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   at UniversityAPI.Controllers.EmployeeController.GetAllAdmins(String faculty) in E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI\Controllers\EmployeeController.cs:line 396
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-24 15:30:25.789 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 500 null text/plain; charset=utf-8 25.0257ms
2024-09-24 15:33:24.770 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:33:24.770 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:33:24.770 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 204 null null 0.2636ms
2024-09-24 15:33:24.771 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:33:24.771 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:33:24.771 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:33:24.771 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:33:24.772 +03:00 [INF] Fetching admins for faculty ID: Faculty of Computer Science
2024-09-24 15:33:24.891 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:33:24.918 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 146.7846ms
2024-09-24 15:33:24.918 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:33:24.919 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[UniversityAPI.Core.Models.Employee, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[UniversityAPI.Application.DTOs.EmployeeDTO, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EmployeeProxy -> EmployeeDTO
Castle.Proxies.EmployeeProxy -> UniversityAPI.Application.DTOs.EmployeeDTO
   at lambda_method228(Closure, Employee, EmployeeDTO, ResolutionContext)
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   at UniversityAPI.Controllers.EmployeeController.GetAllAdmins(String faculty) in E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI\Controllers\EmployeeController.cs:line 396
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-24 15:33:24.920 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 500 null text/plain; charset=utf-8 149.2131ms
2024-09-24 15:34:14.160 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:34:14.160 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:34:14.160 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 204 null null 0.4379ms
2024-09-24 15:34:14.161 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:34:14.161 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:34:14.161 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:34:14.161 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:34:14.162 +03:00 [INF] Fetching admins for faculty ID: Faculty of Computer Science
2024-09-24 15:34:14.164 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:34:14.212 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 50.6714ms
2024-09-24 15:34:14.212 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:34:14.213 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[UniversityAPI.Core.Models.Employee, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[UniversityAPI.Application.DTOs.EmployeeDTO, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EmployeeProxy -> EmployeeDTO
Castle.Proxies.EmployeeProxy -> UniversityAPI.Application.DTOs.EmployeeDTO
   at lambda_method228(Closure, Employee, EmployeeDTO, ResolutionContext)
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   at UniversityAPI.Controllers.EmployeeController.GetAllAdmins(String faculty) in E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI\Controllers\EmployeeController.cs:line 396
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-24 15:34:14.214 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 500 null text/plain; charset=utf-8 53.0488ms
2024-09-24 15:34:14.215 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:34:14.215 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:34:14.215 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:34:14.215 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:34:14.216 +03:00 [INF] Fetching admins for faculty ID: Faculty of Computer Science
2024-09-24 15:34:14.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:34:14.235 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 19.4262ms
2024-09-24 15:34:14.235 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:34:14.235 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[UniversityAPI.Core.Models.Employee, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[UniversityAPI.Application.DTOs.EmployeeDTO, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EmployeeProxy -> EmployeeDTO
Castle.Proxies.EmployeeProxy -> UniversityAPI.Application.DTOs.EmployeeDTO
   at lambda_method228(Closure, Employee, EmployeeDTO, ResolutionContext)
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   at UniversityAPI.Controllers.EmployeeController.GetAllAdmins(String faculty) in E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI\Controllers\EmployeeController.cs:line 396
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-24 15:34:14.237 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 500 null text/plain; charset=utf-8 21.7703ms
2024-09-24 15:48:06.764 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:48:06.765 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:48:06.765 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 204 null null 0.5991ms
2024-09-24 15:48:06.766 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:48:06.766 +03:00 [INF] CORS policy execution successful.
2024-09-24 15:48:06.767 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:48:06.767 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:48:06.767 +03:00 [INF] Fetching admins for faculty ID: Faculty of Computer Science
2024-09-24 15:48:06.966 +03:00 [INF] Executed DbCommand (191ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:48:06.986 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 218.8728ms
2024-09-24 15:48:06.986 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:48:06.986 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[UniversityAPI.Core.Models.Employee, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[UniversityAPI.Application.DTOs.EmployeeDTO, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EmployeeProxy -> EmployeeDTO
Castle.Proxies.EmployeeProxy -> UniversityAPI.Application.DTOs.EmployeeDTO
   at lambda_method228(Closure, Employee, EmployeeDTO, ResolutionContext)
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   at UniversityAPI.Controllers.EmployeeController.GetAllAdmins(String faculty) in E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI\Controllers\EmployeeController.cs:line 396
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-24 15:48:06.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 500 null text/plain; charset=utf-8 221.4388ms
2024-09-24 15:49:23.688 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:49:23.692 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-24 15:49:23.710 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-24 15:49:23.711 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-24 15:49:23.712 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 15:49:23.712 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 401 0 null 23.7794ms
2024-09-24 15:53:08.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:53:08.436 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:53:08.436 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:53:08.437 +03:00 [INF] Fetching admins for faculty ID: Faculty of Computer Science
2024-09-24 15:53:08.500 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:53:08.527 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 90.3391ms
2024-09-24 15:53:08.527 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:53:08.527 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[UniversityAPI.Core.Models.Employee, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[UniversityAPI.Application.DTOs.EmployeeDTO, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EmployeeProxy -> EmployeeDTO
Castle.Proxies.EmployeeProxy -> UniversityAPI.Application.DTOs.EmployeeDTO
   at lambda_method228(Closure, Employee, EmployeeDTO, ResolutionContext)
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   at UniversityAPI.Controllers.EmployeeController.GetAllAdmins(String faculty) in E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI\Controllers\EmployeeController.cs:line 396
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-24 15:53:08.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 500 null text/plain; charset=utf-8 95.9469ms
2024-09-24 15:53:33.420 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - null null
2024-09-24 15:53:33.421 +03:00 [INF] Executing endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:53:33.423 +03:00 [INF] Route matched with {action = "GetAllAdmins", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdmins(System.String) on controller UniversityAPI.Controllers.EmployeeController (UniversityAPI).
2024-09-24 15:53:33.425 +03:00 [INF] Fetching admins for faculty ID: Faculty of Computer Science
2024-09-24 15:53:33.472 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__faculty_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Faculty], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[ResetPasswordExpiry], [a].[Role], [a].[SecurityStamp], [a].[Token], [a].[TwoFactorEnabled], [a].[UserName], [e].[Position], [e].[Salary]
FROM [AspNetUsers] AS [a]
INNER JOIN [Employees] AS [e] ON [a].[Id] = [e].[Id]
WHERE [a].[Faculty] = @__faculty_0 AND [a].[Role] = N'Admin'
2024-09-24 15:53:33.511 +03:00 [INF] Executed action UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI) in 87.7873ms
2024-09-24 15:53:33.511 +03:00 [INF] Executed endpoint 'UniversityAPI.Controllers.EmployeeController.GetAllAdmins (UniversityAPI)'
2024-09-24 15:53:33.512 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[UniversityAPI.Core.Models.Employee, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[UniversityAPI.Application.DTOs.EmployeeDTO, UniversityAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EmployeeProxy -> EmployeeDTO
Castle.Proxies.EmployeeProxy -> UniversityAPI.Application.DTOs.EmployeeDTO
   at lambda_method228(Closure, Employee, EmployeeDTO, ResolutionContext)
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method227(Closure, Object, List`1, ResolutionContext)
   at UniversityAPI.Controllers.EmployeeController.GetAllAdmins(String faculty) in E:\Web Projects\,Net\UniversityApp\UniversityAPI\UniversityAPI\Controllers\EmployeeController.cs:line 396
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-24 15:53:33.513 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/Employee/get/allAdmins/Faculty of Computer Science - 500 null text/plain; charset=utf-8 92.8863ms
